@using GoalGetters.Helper
@model IEnumerable<GoalGetters.Models.Live>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    var username = Context.Session.GetString("User");
}

<head>
    <meta http-equiv="refresh" content="60">
</head>

<h4 class="text-white">Jogos ao vivo</h4>

 @if (username == "Admin")
{
<p class="text-white">
    <a asp-action="CreateLive">Criar novo jogo</a>
</p>
}

<div class="row">
@foreach (var item in Model)
{
    <container class="text-white d-flex justify-content-center align-items-center mb-3 col">
        <div class="bgdetails" style="width:25rem; height:15rem">
            <span style="font-size:13px; color: var(--color3limao);">
                @{
                    var championshipName = Html.DisplayName(Enum.GetName(typeof(Enums.Championship), item.IdChampionship));
                }
                <i class="bi bi-football"></i><p>@championshipName</p>
            </span>
            <div class="time_match" style="margin-bottom:10px;margin-top:-10px">
                @Html.DisplayFor(modelItem => item.GameTime)'
                @Html.DisplayFor(modelItem => item.StatusMatch)
            </div>
            <div style="display: grid; grid-template-columns: 38px 1fr 1fr 0.2fr;">
                <div sstyle="width:20px;display: flex;flex-direction:column; text-align:end; justify-self: end;">
                    <div><img style="margin-bottom:3px" src="~/img/teams/@(item.HomeTeamName.ToLower().Replace(" ", "")).png" alt="Logo" width="25px" height="25px" /></div>
                    <div><img style="margin-bottom:3px" src="~/img/teams/@(item.VisitingTeamName.ToLower().Replace(" ", "")).png" alt="Logo" width="25px" height="25px" /></div>
                </div>
                <div style="display: flex; flex-direction:column; text-align:initial; justify-self: initial;">
                    <strong style="font-size:0.9rem; margin-top:4px">@Html.DisplayFor(modelItem => item.HomeTeamName) </strong>
                    <strong style="font-size:0.9rem; margin-top:4px">@Html.DisplayFor(modelItem => item.VisitingTeamName)</strong>
                </div>
                <div>
                </div>
                <div>
                    <div style="display: flex; flex-direction:column; font-size:0.9rem">
                        <strong class="scoreboard">@Html.DisplayFor(modelItem => item.TeamPoints1)</strong>
                        <strong class="scoreboard" style="margin-top:4px;">@Html.DisplayFor(modelItem => item.TeamPoints2)</strong>
                    </div>
                </div>
            </div>
        </div>
    </container>
}
</div>
